+function(t){function i(i){return this.each(function(){var n=t(this),o=n.data("bk2k.responsiveimage"),s="object"==typeof i&&i;o||n.data("bk2k.responsiveimage",o=new e(this,s)),"string"==typeof i&&o[i]()})}var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.attrib="data-src",this.$container=t(this.options.container).on("scroll.bk2k.responsiveimage",t.proxy(this.checkviewport,this)).on("resize.bk2k.responsiveimage",t.proxy(this.checkviewport,this)),this.checkviewport()};e.DEFAULTS={threshold:0,breakpoints:{0:"small",768:"medium",992:"large",1200:"bigger"},attrib:"data-src",container:window,skip_invisible:!0},e.prototype.checkviewport=function(){var i=this.$container.width(),e=this.attrib,n=this.attrib;t.each(this.options.breakpoints,function(t,n){i>=t&&(e="data-"+n)}),n!==e&&(this.attrib=e),this.unveil()},e.prototype.inviewport=function(){var i,e,n,o=this.$element.width(),s=this.$element.height(),r=this.$element.offset().left,h=this.$element.offset().top,a=this.$container.width();return void 0===this.options.container||this.options.container===window?(i=t(window).innerHeight()?t(window).innerHeight():t(window).height(),e=t(window).scrollLeft(),n=t(window).scrollTop()):(i=this.$container.height(),e=this.$container.offset().left,n=this.$container.offset().top),e+a>r-this.options.threshold&&e<r+o+this.options.threshold&&n+i>h-this.options.threshold&&n<h+s+this.options.threshold},e.prototype.unveil=function(){if(!this.options.skip_invisible||!this.$element.is(":hidden")){var t=this.inviewport();if(t){var i=this.$element.attr(this.attrib);i=i||this.$element.attr("data-src"),i&&(this.$element.attr("src",i),this.$element.css("opacity",1))}}};var n=t.fn.responsiveimages;t.fn.responsiveimage=i,t.fn.responsiveimage.Constructor=e,t.fn.responsiveimage.noConflict=function(){return t.fn.responsiveimage=n,this},t(window).on("load",function(){t("img.lazyload").each(function(){var e=t(this),n=e.data();i.call(e,n)})})}(jQuery);
